<!-- app/views/homes/index.html.erb -->
<div class="flex flex-col gap-4 max-w-md mx-auto mt-32 w-full text-center">
  <p class="text-gray-400 text-sm">Completely anonymous question form. Answer will be posted on my X account,
    <a href="https://x.com/MohdZafranudin" class="text-blue-400" target="_blank">@MohdZafranudin</a></p>
  <div
    class="
      overflow-hidden w-full bg-white shadow-lg border-4 border-gray-50 rounded-3xl
      text-center flex flex-col
    "
  >
    <div class="w-full py-6 px-8 bg-rose-400">
      <h1 class="text-lg text-white text-center">Ask me anything</h1>
    </div>
    <!-- Form for submitting a question -->
    <%= form_with model: @question, url: create_question_path, local: true, class: 'flex flex-col' do |f| %>
      <div class="flex flex-col gap-4 text-center">
        <%= f.text_area :content,
                    class:
                      "border-none focus:outline-none text-center text-xl placeholder:text-gray-300 focus:ring-0 w-full p-6 border border-gray-300 resize-none font-bold",
                    rows: 5 %>
      </div>
    <% end %>

  </div>

  <p class="text-gray-300">ask.zafranudin.dev</p>

  <div class="">
    <!-- Flash message for successful submission -->
    <% if notice.present? %>
      <p class="text-center mt-4 text-green-500"><%= notice %></p>
    <% end %>
    <!-- Flash message for submission error -->
    <% if alert.present? %>
      <p class="text-center mt-4 text-red-500"><%= alert %></p>
    <% end %>

    <% if @question.errors.any? %>
      <div class="bg-red-100 text-red-600 p-4 rounded-md mb-4">
        <h2 class="font-bold">There were errors with your submission:</h2>
        <ul>
          <% @question.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
  </div>
</div>
